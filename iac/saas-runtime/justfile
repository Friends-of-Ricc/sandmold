check-setup:
    #!/bin/bash
    source .env
    bin/check-setup.sh

TERRAFORM_CLASSROOM_FOLDER_DIR := "terraform-modules/terraform-classroom-folder"

# list targets
list:
    just -l

# create SaaS Runtime instance
create-saas:
    #!/bin/bash
    source .env
    bin/01-create-saas.sh

check:
    #!/bin/bash
    source .env
    bin/check-overall-status.sh

create-classroom-folder-unit-kind:
    #!/bin/bash
    source .env
    bin/03-create-unit-kind.sh classroom-folder {{TERRAFORM_CLASSROOM_FOLDER_DIR}}

create-sample-vm-unit-kind:
    #!/bin/bash
    source .env
    bin/03-create-unit-kind.sh sandmold-sample-vm terraform-modules/terraform-vm

build-and-push-blueprint:
    #!/bin/bash
    source .env
    bin/05-build-and-push-blueprint.sh {{TERRAFORM_CLASSROOM_FOLDER_DIR}}

docker check:
    docker ps

create-rollout:
    #!/bin/bash
    source .env
    bin/07-create-rollout.sh

check-logs:
    #!/bin/bash
    source .env
    bin/check-audit-logs.sh

create-sample-unit name:
    #!/bin/bash
    source .env
    bin/05-create-unit.sh unit-{{name}} ${UNIT_KIND_NAME_GLOBAL}

create-global-unit name:
    #!/bin/bash
    source .env
    bin/05-create-unit.sh {{name}} ${UNIT_KIND_NAME_BASE}-global
    bin/06-provision-unit.sh {{name}}

create-regional-unit name:
    #!/bin/bash
    source .env
    bin/05-create-unit.sh {{name}} ${UNIT_KIND_NAME_BASE}-regional
    bin/06-provision-unit.sh unit-{{name}}
