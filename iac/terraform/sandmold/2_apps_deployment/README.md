# 2. Application Deployment

This Terraform configuration is responsible for deploying the applications specified in the original classroom YAML onto the projects created in the previous stage.

**This stage is not yet implemented.**

## Future Implementation Plan

This configuration will be designed to be completely agnostic of the preceding stage (`1a_classroom_setup` or `1b_single_user_setup`). It will achieve this by consuming a standard `projects` map output.

The implementation will likely follow these steps:

1.  **Input Processing**: Take the `projects` map from the previous stage's output as a primary input variable. It will also need a variable that describes which applications from the original `classroom.yaml` map to which projects. This will likely be generated by the `prepare_tf_vars.py` script.

2.  **Blueprint Parsing**: For each application to be deployed, this configuration will need to locate and parse its `blueprint.yaml` file from the `/applications` directory.

3.  **Deployment Logic**: Based on the contents of the `blueprint.yaml`, the Terraform configuration will use the appropriate resources to deploy the application. This will likely involve:
    *   Using the `helm_release` resource from the Helm provider for applications packaged as Helm charts.
    *   Using the `kubernetes_manifest` resource from the Kubernetes provider for raw Kubernetes YAML.
    *   Potentially using `gcloud` commands via a `local-exec` provisioner for more complex or custom deployment scripts.

4.  **Output**: The configuration will output a `deployment_report` map, detailing the URLs of the deployed applications and their installation status. This will be consumed by the `generate_report.py` script.
